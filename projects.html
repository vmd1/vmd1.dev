<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-Z0H0P60H5S"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-Z0H0P60H5S');
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Projects - vmd1</title>
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="https://cdn.848226.xyz/v1/vmd1/media/favicon/favicon-32.ico">
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Use Inter font from Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="style.css">
    <!-- Remixicon CDN -->
    <link href="https://cdn.jsdelivr.net/npm/remixicon@4.2.0/fonts/remixicon.css" rel="stylesheet" />
</head>
<body class="text-gray-300">
    <div id="spotlight"></div>
    <div class="container mx-auto px-4 py-8 max-w-5xl">

        <!-- Header Section -->
        <header class="flex flex-col sm:flex-row justify-between items-center card navbar-card">
            <!-- Logo and name container -->
            <a href="/" class="flex items-center">
                <!-- Logo -->
                <img src="https://cdn.848226.xyz/v1/vmd1/media/logo/logo.svg" alt="vmd1 logo" class="w-12 h-12 mr-4 rounded-full">
                <h1 class="text-4xl font-extrabold text-gray-100">
                    vmd1
                </h1>
            </a>
            
            <div class="flex items-center space-x-4 mt-4 sm:mt-0">
                <nav class="flex space-x-4">
                    <a href="/" class="text-gray-400 hover:text-gray-100 transition-colors duration-200" title="Home">
                        <i class="ri-home-line text-2xl"></i>
                    </a>
                    <a href="projects.html" class="text-gray-100 font-bold transition-colors duration-200" title="Projects">
                        <i class="ri-function-line text-2xl"></i>
                    </a>
                    <a href="about.html" class="text-gray-400 hover:text-gray-100 transition-colors duration-200" title="About">
                        <i class="ri-information-line text-2xl"></i>
                    </a>
                </nav>
                <div class="text-gray-600">|</div>
                <div class="flex space-x-4 social-icons">
                    <!-- Social media icons using Remixicon -->
                    <!-- GitHub -->
                    <a href="https://github.com/vmd1" class="text-gray-400 hover:text-gray-100 transition-colors duration-200">
                        <i class="ri-github-fill text-2xl"></i>
                    </a>
                    <!-- Reddit -->
                    <a href="https://www.reddit.com/user/vmd1_" class="text-gray-400 hover:text-gray-100 transition-colors duration-200">
                        <i class="ri-reddit-fill text-2xl"></i>
                    </a>
                    <!-- Instagram -->
                    <a href="https://www.instagram.com/v.md.1" class="text-gray-400 hover:text-gray-100 transition-colors duration-200">
                        <i class="ri-instagram-fill text-2xl"></i>
                    </a>
                    <!-- Email -->
                    <a href="mailto:me@vmd1.dev" class="text-gray-400 hover:text-gray-100 transition-colors duration-200">
                        <i class="ri-mail-fill text-2xl"></i>
                    </a>
                    <!-- Blog -->
                    <a href="https://init0.vmd1.dev" class="text-gray-400 hover:text-gray-100 transition-colors duration-200">
                        <i class="ri-rss-fill text-2xl"></i>
                    </a>
                </div>
            </div>
        </header>
        
        <!-- Main Content -->
        <main class="card">
            <h1 class="text-3xl font-bold mb-6 text-gray-100">Projects</h1>

            <section id="projects-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <p class="text-gray-500">Loading GitHub repositories...</p>
            </section>
        </main>
    </div>

    <script>
        async function fetchRepos() {
            const container = document.getElementById('projects-container');
            const username = 'vmd1';
            // Added sort parameter to the API URL
            try {
                const response = await fetch(`https://api.github.com/users/${username}/repos?sort=pushed`);
                const repos = await response.json();
                
                // Clear the loading message
                container.innerHTML = '';

                repos.forEach(repo => {
                    const projectCard = `
                        <a href="${repo.html_url}" target="_blank" rel="noopener noreferrer" class="block p-6 bg-slate-900 rounded-lg hover:bg-slate-800 transition-colors duration-200 card">
                            <h3 class="text-xl font-bold text-gray-100 mb-2">${repo.name}</h3>
                            <p class="text-gray-400 text-sm mb-2">
                                <i class="ri-star-line"></i> ${repo.stargazers_count}
                                <i class="ri-git-repository-commits-line ml-4"></i> ${repo.forks_count}
                            </p>
                            <p class="text-gray-500 text-sm">${repo.description || 'No description available.'}</p>
                        </a>
                    `;
                    container.innerHTML += projectCard;
                });
            } catch (error) {
                console.error('Error fetching repositories:', error);
                container.innerHTML = '<p class="text-gray-500">Failed to load projects. Please try again later.</p>';
            }
        }

        fetchRepos();
    </script>
    <script src="spotlight.js"></script>
</body>
</html>
